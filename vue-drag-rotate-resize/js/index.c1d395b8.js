(function(t){function e(e){for(var o,a,s=e[0],c=e[1],u=e[2],l=0,d=[];l<s.length;l++)a=s[l],i[a]&&d.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);h&&h(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(o=!1)}o&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},i={index:0},r=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var h=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("c31f")},"2f45":function(t,e,n){t.exports=n.p+"img/bg.137b6aa3.jpg"},"42b1":function(t,e,n){"use strict";var o=n("880c"),i=n.n(o);i.a},4573:function(t,e,n){"use strict";var o=n("488c"),i=n.n(o);i.a},"488c":function(t,e,n){},"49fd":function(t,e,n){"use strict";var o=n("e801"),i=n.n(o);i.a},"5b83":function(t,e,n){"use strict";var o=n("a3c4"),i=n.n(o);i.a},"880c":function(t,e,n){},9073:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUUAAABOCAYAAAC3xAQqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyMkRBQUUxNTI5MzgxMUU2QkU5MUZBQkRCMUYxNjNERiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyMkRBQUUxNjI5MzgxMUU2QkU5MUZBQkRCMUYxNjNERiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIyREFBRTEzMjkzODExRTZCRTkxRkFCREIxRjE2M0RGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjIyREFBRTE0MjkzODExRTZCRTkxRkFCREIxRjE2M0RGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NPaolgAACZBJREFUeNrsnUuMFEUY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"},a3c4:function(t,e,n){},c31f:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("stage")],1)},r=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"stage-box"}},[t._l(t.data,function(e,o){return n("element-item",{key:o,ref:"element-item",refInFor:!0,attrs:{data:e,index:o},on:{onMousedown:t.handleMousedown}})}),n("vue-drag-rotate-resize",{directives:[{name:"show",rawName:"v-show",value:Object.keys(t.resizeObject).length,expression:"Object.keys(resizeObject).length"}],attrs:{top:t.resizeObject.y||0,left:t.resizeObject.x||0,width:t.resizeObject.width||0,height:t.resizeObject.height||0,rotateAngle:t.resizeObject.rotate||0,rotatable:!t.isMultiple,aspectRatio:t.isMultiple?t.resizeObject.width/t.resizeObject.height:0,onDragStart:t.handleDragStart,onDrag:t.handleDrag,onDragEnd:t.handleDragEnd,onResizeStart:t.handleResizeStart,onResize:t.handleResize,onResizeEnd:t.hanlderResizeEnd,onRotate:t.handleRotate}},[n("template",{slot:"rotate"},[n("div",{staticClass:"rotate-btn"})])],2)],2)},s=[],c=n("75fc"),u=function(t,e){var n=e.width/t.width,o=e.height/t.height;return{widthRatio:n,heightRatio:o,maxRatio:Math.max(n,o),minRatio:Math.min(n,o)}},h=n("0644"),l=n.n(h),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"element-item",style:t.elementItemStyle,on:{mousedown:t.onMousedown,contextmenu:t.onContextmenu}},[n("img",{attrs:{src:t.data.src}})])},p=[],f=(n("c5f6"),{props:{data:{type:Object,required:!0},index:{type:Number,required:!0}},computed:{elementItemStyle:function(){var t=this.data,e=t.x,n=t.y,o=t.width,i=t.height,r=t.rotate,a=t.zIndex;return{position:"absolute",top:"".concat(n||0,"px"),left:"".concat(e||0,"px"),width:"".concat(o,"px"),height:"".concat(i,"px"),"z-index":"".concat(a),transform:"rotate(".concat(r,"deg)")}}},methods:{onMousedown:function(t){1===t.buttons?this.$emit("onMousedown",t,this.data,this.index):2===t.buttons&&this.$emit("onContextmenu",t,this.data,this.index)},onContextmenu:function(t){return t.preventDefault(),!1}}}),m=f,g=(n("4573"),n("2877")),b=Object(g["a"])(m,d,p,!1,null,null,null),v=b.exports,R=n("2f45"),w=n.n(R),y=n("9073"),A=n.n(y),z={data:function(){return{resizeObject:{},activeElement:null,activedElements:[],data:[{x:100,y:60,width:200,height:100,rotate:0,zIndex:100,src:w.a},{x:120,y:180,width:162.5,height:39,rotate:0,zIndex:101,src:A.a}]}},components:{elementItem:v},computed:{isMultiple:function(){return this.activedElements.length>1}},created:function(){var t=this;document.addEventListener("click",function(e){e.target.closest("#stage-box")||t.hideEdit()},!1)},methods:{hideEdit:function(){this.resizeObject={}},getRect:function(){var t=this,e={x:[],y:[],width:[],height:[]};this.activedElements.map(function(t,n){e.x.push(t.x),e.y.push(t.y)});var n=Math.min.apply(Math,Object(c["a"])(e.x)),o=Math.min.apply(Math,Object(c["a"])(e.y));return this.activedElements.map(function(i,r){var a=t.$refs["element-item"][r]["$el"].getBoundingClientRect(),s=a.right,c=a.bottom;e.width.push(s-n),e.height.push(c-o)}),{x:n,y:o,width:Math.max.apply(Math,Object(c["a"])(e.width)),height:Math.max.apply(Math,Object(c["a"])(e.height))}},handleMousedown:function(t,e,n){if(t.metaKey||t.ctrlKey)if(this.activedElements.push(e),1===this.activedElements.length)this.resizeObject=l()(e);else{var o=this.getRect();this.resizeObject=o}else this.resizeObject=l()(e),this.activedElements=[e]},handleDragStart:function(){},handleDrag:function(t,e,n){this.resizeObject.x+=e,this.resizeObject.y+=n,this.activedElements.map(function(t,o){t.x+=e,t.y+=n})},handleDragEnd:function(){},handleResizeStart:function(){this.oldResizeObject=l()(this.resizeObject),this.oldActivedElements=l()(this.activedElements)},handleResize:function(t,e,n,o){var i=this,r=e.top,a=e.left,s=e.width,c=e.height,h={y:Math.round(r),x:Math.round(a),width:Math.round(s),height:Math.round(c)};this.resizeRatioObject=u(h,this.oldResizeObject);var l=this.resizeRatioObject,d=l.widthRatio,p=l.heightRatio,f=h.x-this.oldResizeObject.x,m=h.y-this.oldResizeObject.y,g=this.getRect();this.activedElements.map(function(t,e){var n=i.oldActivedElements[e],o=Math.round(n.width/d),r=Math.round(n.height/p),a=(n.x-i.oldResizeObject.x)/i.oldResizeObject.width,s=(n.y-i.oldResizeObject.y)/i.oldResizeObject.height,c=f+i.oldResizeObject.x+Math.round(h.width*a),u=m+i.oldResizeObject.y+Math.round(g.height*s);Object.assign(t,{x:c,y:u,width:o,height:r})}),Object.assign(this.resizeObject,h)},hanlderResizeEnd:function(){var t=this.getRect();this.resizeObject=t},handleRotate:function(t,e){this.resizeObject.rotate=e,this.activedElements.map(function(t,n){t.rotate=e})}}},M=z,x=(n("5b83"),Object(g["a"])(M,a,s,!1,null,null,null)),j=x.exports,E={components:{stage:j}},O=E,D=(n("42b1"),Object(g["a"])(O,i,r,!1,null,null,null)),I=D.exports,S=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("rectBox",{attrs:{styles:t.styles,zoom:t.zoom,zoomable:t.zoomable,rotatable:t.rotatable,parentScaleNum:t.parentScaleNum,parentRotateAngle:t.parentRotateAngle,onDragStart:t.onDragStart,onDrag:t.handleDrag,onDragEnd:t.onDragEnd,onResizeStart:t.onResizeStart,onResize:t.handleResize,onResizeEnd:t.onResizeEnd,onRotateStart:t.onRotateStart,onRotate:t.handleRotate,onRotateEnd:t.onRotateEnd}},[t._t("default"),n("template",{slot:"rotate"},[t._t("rotate")],2)],2)}),P=[],C=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),k=function(t,e){return Math.sqrt(t*t+e*e)},U=function(t,e){var n=t.x,o=t.y,i=e.x,r=e.y,a=n*i+o*r,s=n*r-o*i,c=Math.atan2(s,a)/Math.PI*180;return(c+360)%360},Z=function(t){return t*Math.PI/180},F=function(t){return Math.cos(Z(t))},N=function(t){return Math.sin(Z(t))},X=function(t,e,n){var o=t+e;return o>n?t=o:(e=n-t,t=n),{width:t,deltaW:e}},W=function(t,e,n){var o=t+e;return o>n?t=o:(e=n-t,t=n),{height:t,deltaH:e}},Y=function(t,e,n,o,i,r,a){var s=e.width,c=e.height,u=e.centerX,h=e.centerY,l=e.rotateAngle,d=s<0?-1:1,p=c<0?-1:1;switch(s=Math.abs(s),c=Math.abs(c),t){case"r":var f=X(s,n,r);s=f.width,n=f.deltaW,i?(o=n/i,c=s/i,u+=n/2*F(l)-o/2*N(l),h+=n/2*N(l)+o/2*F(l)):(u+=n/2*F(l),h+=n/2*N(l));break;case"tr":o=-o;var m=X(s,n,r);s=m.width,n=m.deltaW;var g=W(c,o,a);c=g.height,o=g.deltaH,i&&(n=o*i,s=c*i),u+=n/2*F(l)+o/2*N(l),h+=n/2*N(l)-o/2*F(l);break;case"br":var b=X(s,n,r);s=b.width,n=b.deltaW;var v=W(c,o,a);c=v.height,o=v.deltaH,i&&(n=o*i,s=c*i),u+=n/2*F(l)-o/2*N(l),h+=n/2*N(l)+o/2*F(l);break;case"b":var R=W(c,o,a);c=R.height,o=R.deltaH,i?(n=o*i,s=c*i,u+=n/2*F(l)-o/2*N(l),h+=n/2*N(l)+o/2*F(l)):(u-=o/2*N(l),h+=o/2*F(l));break;case"bl":n=-n;var w=X(s,n,r);s=w.width,n=w.deltaW;var y=W(c,o,a);c=y.height,o=y.deltaH,i&&(c=s/i,o=n/i),u-=n/2*F(l)+o/2*N(l),h-=n/2*N(l)-o/2*F(l);break;case"l":n=-n;var A=X(s,n,r);s=A.width,n=A.deltaW,i?(c=s/i,o=n/i,u-=n/2*F(l)+o/2*N(l),h-=n/2*N(l)-o/2*F(l)):(u-=n/2*F(l),h-=n/2*N(l));break;case"tl":n=-n,o=-o;var z=X(s,n,r);s=z.width,n=z.deltaW;var M=W(c,o,a);c=M.height,o=M.deltaH,i&&(s=c*i,n=o*i),u-=n/2*F(l)-o/2*N(l),h-=n/2*N(l)+o/2*F(l);break;case"t":o=-o;var x=W(c,o,a);c=x.height,o=x.deltaH,i?(s=c*i,n=o*i,u+=n/2*F(l)+o/2*N(l),h+=n/2*N(l)-o/2*F(l)):(u+=o/2*N(l),h-=o/2*F(l));break}return{position:{centerX:u,centerY:h},size:{width:s*d,height:c*p}}},B={n:0,ne:1,e:2,se:3,s:4,sw:5,w:6,nw:7},T=["ns","nesw","ew","nwse","ns","nesw","ew","nwse"],q={0:0,1:1,2:2,3:2,4:3,5:4,6:4,7:5,8:6,9:6,10:7,11:8},L=function(t,e){var n=q[Math.floor(t/30)],o=B[e],i=(o+n)%8;return T[i]},J=function(t){var e=t.centerX,n=t.centerY,o=t.width,i=t.height,r=t.rotateAngle;return{top:n-i/2,left:e-o/2,width:o,height:i,rotateAngle:r}},G=function(t){var e=t.top,n=t.left,o=t.width,i=t.height,r=t.rotateAngle;return{position:{centerX:n+o/2,centerY:e+i/2},size:{width:o,height:i},transform:{rotateAngle:r}}},K=function(t){return{centerX:t.width/2,centerY:t.height/2}},V=function(t,e){var n=K(e),o=K(t);return{top:n.centerY-o.centerY,left:n.centerX-o.centerX}},H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"rectBox",staticClass:"rect-box",style:t.divStyle,on:{mousedown:t.startDrag}},[t._l(t.direction,function(e,o){return n("div",{key:o,staticClass:"scale",class:t.zoomableMap[e],style:[{cursor:t.getCursorStyle(e)},t.reverseScaleStyle],on:{mousedown:function(n){return n.stopPropagation(),function(n){return t.startResize(n,t.zoomableMap[e])}(n)}}})}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.rotatable,expression:"rotatable"}],ref:"rotate",staticClass:"rotate",on:{mousedown:function(e){return e.stopPropagation(),t.startRotate(e)}}},[t._t("rotate",[n("div",{staticClass:"rotate-icon"})])],2),t._t("default")],2)},Q=[],_=(n("28a5"),{props:{styles:{type:Object,default:function(){return{}}},zoom:{type:Number},zoomable:{type:String},rotatable:{type:Boolean},parentRotateAngle:{type:Number},parentScaleNum:{type:Number},onRotateStart:{type:Function},onRotate:{type:Function},onRotateEnd:{type:Function},onResizeStart:{type:Function},onResize:{type:Function},onResizeEnd:{type:Function},onDragStart:{type:Function},onDrag:{type:Function},onDragEnd:{type:Function}},name:"rect-box",data:function(){return{locals:1,cursor:[],zoomableMap:{n:"t",s:"b",e:"r",w:"l",ne:"tr",nw:"tl",se:"br",sw:"bl"},direction:this.zoomable.split(",").map(function(t){return t.trim()}).filter(function(t){return t})}},watch:{zoomable:function(t){this.direction=t.split(",").map(function(t){return t.trim()}).filter(function(t){return t})}},components:{},computed:{reverseScaleStyle:function(){return{transform:"scale(".concat(1/this.parentScaleNum,")")}},divStyle:function(){var t=this.styles,e=t.position,n=t.size,o=t.transform,i={width:Math.abs(n.width)+"px",height:Math.abs(n.height)+"px",transform:"rotate(".concat(o.rotateAngle,"deg)"),left:e.centerX-Math.abs(n.width)/2+"px",top:e.centerY-Math.abs(n.height)/2+"px"};return i}},beforeMount:function(){},mounted:function(){this.setElementRef(this.$refs.rectBox)},filters:{},methods:{setElementRef:function(t){this.$element=t},getCursorStyle:function(t){var e=this.styles.transform,n="".concat(L(e.rotateAngle+this.parentRotateAngle,t),"-resize");return n},startDrag:function(t){var e=this;if(1!==t.which)return!0;t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var n=t.clientX,o=t.clientY;this.onDragStart&&this.onDragStart(t),this._isMouseDown=!0;var i=function(t){e._isMouseDown&&(t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),window.requestAnimationFrame(function(){var i=t.clientX,r=t.clientY,a=(i-n)/e.zoom,s=(r-o)/e.zoom;e.onDrag(t,a,s),n=i,o=r}))},r=function t(n){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",t),e._isMouseDown&&(e._isMouseDown=!1,e.onDragEnd&&e.onDragEnd(n))};document.addEventListener("mousemove",i),document.addEventListener("mouseup",r)},startRotate:function(t){var e=this;if(0===t.button){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var n=t.clientX,o=t.clientY,i=this.styles.transform.rotateAngle,r=this.$element.getBoundingClientRect(),a={x:r.left+r.width/2,y:r.top+r.height/2},s={x:n-a.x,y:o-a.y};this.onRotateStart&&this.onRotateStart(t),this._isMouseDown=!0;var c=function(t){e._isMouseDown&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.stopImmediatePropagation(),window.requestAnimationFrame(function(){var n=t.clientX,o=t.clientY,r={x:n-a.x,y:o-a.y},c=U(s,r);e.onRotate(t,c,i)}))},u=function t(n){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",t),e._isMouseDown&&(e._isMouseDown=!1,e.onRotateEnd&&e.onRotateEnd(n))};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)}},startResize:function(t,e,n){var o=this;if(0===t.button){var i=this.styles,r=i.position,a=r.centerX,s=r.centerY,c=i.size,u=c.width,h=c.height,l=i.transform.rotateAngle,d=t.clientX,p=t.clientY,f={width:u,height:h,centerX:a,centerY:s,rotateAngle:l};this.onResizeStart&&this.onResizeStart(t),this._isMouseDown=!0;var m=function(t){o._isMouseDown&&(t.stopImmediatePropagation(),window.requestAnimationFrame(function(){var n=t.clientX,i=t.clientY,r=(n-d)/o.zoom,a=(i-p)/o.zoom,s=Math.atan2(a,r),c=k(r,a),u=t.shiftKey;o.onResize(t,c,s,f,e,u)}))},g=function t(e){document.body.style.cursor="auto",document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",t),o._isMouseDown&&(o._isMouseDown=!1,o.onResizeEnd&&o.onResizeEnd(e))};document.addEventListener("mousemove",m),document.addEventListener("mouseup",g)}}}}),$=_,tt=(n("49fd"),Object(g["a"])($,H,Q,!1,null,"7b6866b5",null)),et=tt.exports;function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(n,!0).forEach(function(e){Object(C["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var it={name:"vue-drag-rotate-resize",props:{zoom:{type:Number,default:1},top:{type:Number,required:!0},left:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},rotateAngle:{type:Number,default:0},zoomable:{type:String,default:"n, w, s, e, nw, ne, se, sw"},rotatable:{type:Boolean,default:!0},parentRotateAngle:{type:Number,default:0},parentScaleNum:{type:Number,default:1},minWidth:{type:Number,default:-1/0},minHeight:{type:Number,default:-1/0},aspectRatio:{type:Number},isCenterZoom:{type:Boolean,default:!1},centerZoomTargetRect:{type:Object,default:function(){return{width:100,height:100}}},onRotateStart:{type:Function},onRotate:{type:Function},onRotateEnd:{type:Function},onResizeStart:{type:Function},onResize:{type:Function},onResizeEnd:{type:Function},onDragStart:{type:Function},onDrag:{type:Function},onDragEnd:{type:Function}},data:function(){return{}},components:{rectBox:et},computed:{styles:function(){return G({top:this.top,left:this.left,width:this.width,height:this.height,rotateAngle:this.rotateAngle})}},methods:{handleDrag:function(t,e,n){this.onDrag&&this.onDrag(t,e,n)},handleRotate:function(t,e,n){if(this.onRotate){var o=Math.round(n+e);o>=360?o-=360:o<0&&(o+=360),o>356||o<4?o=0:o>86&&o<94?o=90:o>176&&o<184?o=180:o>266&&o<274&&(o=270),this.onRotate(t,o)}},handleResize:function(t,e,n,o,i,r){if(this.onResize){var a=this.rotateAngle,s=this.aspectRatio,c=this.minWidth,u=this.minHeight,h=this.parentRotateAngle,l=n-Z(a+h),d=e*Math.cos(l),p=e*Math.sin(l),f=r&&!s?o.width/o.height:s,m=Y(i,ot({},o,{rotateAngle:a}),d,p,f,c,u),g=m.position,b=g.centerX,v=g.centerY,R=m.size,w=R.width,y=R.height,A=J({centerX:b,centerY:v,width:w,height:y,rotateAngle:a});if(this.isCenterZoom){var z=V(A,{width:this.centerZoomTargetRect.width,height:this.centerZoomTargetRect.height});A.left=z.left,A.top=z.top}this.onResize(t,A,r,i)}}}},rt=it,at=Object(g["a"])(rt,S,P,!1,null,null,null),st=at.exports;st.install=function(t){t.component(st.name,st)},"undefined"!==typeof window&&window.Vue&&st.install(window.Vue);var ct=st;o["a"].use(ct),o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(I)}}).$mount("#app")},e801:function(t,e,n){}});
//# sourceMappingURL=index.c1d395b8.js.map