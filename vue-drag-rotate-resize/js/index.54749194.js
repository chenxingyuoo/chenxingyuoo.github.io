(function(t){function e(e){for(var i,r,s=e[0],c=e[1],u=e[2],l=0,d=[];l<s.length;l++)r=s[l],o[r]&&d.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);h&&h(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={index:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var h=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("c31f")},"2f45":function(t,e,n){t.exports=n.p+"img/bg.137b6aa3.jpg"},"42b1":function(t,e,n){"use strict";var i=n("880c"),o=n.n(i);o.a},4573:function(t,e,n){"use strict";var i=n("488c"),o=n.n(i);o.a},"488c":function(t,e,n){},"49fd":function(t,e,n){"use strict";var i=n("e801"),o=n.n(i);o.a},"5b83":function(t,e,n){"use strict";var i=n("a3c4"),o=n.n(i);o.a},"880c":function(t,e,n){},9073:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUUAAABOCAYAAAC3xAQqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyMkRBQUUxNTI5MzgxMUU2QkU5MUZBQkRCMUYxNjNERiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyMkRBQUUxNjI5MzgxMUU2QkU5MUZBQkRCMUYxNjNERiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIyREFBRTEzMjkzODExRTZCRTkxRkFCREIxRjE2M0RGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjIyREFBRTE0MjkzODExRTZCRTkxRkFCREIxRjE2M0RGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NPaolgAACZBJREFUeNrsnUuMFEUY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"},a3c4:function(t,e,n){},c31f:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("stage")],1)},a=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"stage-box"}},[t._l(t.data,function(e,i){return n("element-item",{key:i,ref:"element-item",refInFor:!0,attrs:{data:e,index:i},on:{onMousedown:t.handleMousedown}})}),n("vue-drag-rotate-resize",{directives:[{name:"show",rawName:"v-show",value:Object.keys(t.resizeObject).length,expression:"Object.keys(resizeObject).length"}],attrs:{top:t.resizeObject.y||0,left:t.resizeObject.x||0,width:t.resizeObject.width||0,height:t.resizeObject.height||0,rotateAngle:t.resizeObject.rotate||0,rotatable:!t.isMultiple,aspectRatio:t.isMultiple?t.resizeObject.width/t.resizeObject.height:0,onDragStart:t.handleDragStart,onDrag:t.handleDrag,onDragEnd:t.handleDragEnd,onResizeStart:t.handleResizeStart,onResize:t.handleResize,onResizeEnd:t.hanlderResizeEnd,onRotateStart:t.handleRotateStart,onRotate:t.handleRotate,onRotateEnd:t.handleRotateEnd}},[n("template",{slot:"rotate"},[n("div",{staticClass:"rotate-btn"})])],2)],2)},s=[],c=n("75fc"),u=function(t,e){var n=e.width/t.width,i=e.height/t.height;return{widthRatio:n,heightRatio:i,maxRatio:Math.max(n,i),minRatio:Math.min(n,i)}},h=n("0644"),l=n.n(h),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"element-item",style:t.elementItemStyle,on:{mousedown:t.onMousedown,contextmenu:t.onContextmenu}},[n("img",{attrs:{src:t.data.src}})])},p=[],g=(n("c5f6"),{props:{data:{type:Object,required:!0},index:{type:Number,required:!0}},computed:{elementItemStyle:function(){var t=this.data,e=t.x,n=t.y,i=t.width,o=t.height,a=t.rotate,r=t.zIndex;return{position:"absolute",top:"".concat(n||0,"px"),left:"".concat(e||0,"px"),width:"".concat(i,"px"),height:"".concat(o,"px"),"z-index":"".concat(r),transform:"rotate(".concat(a,"deg)")}}},methods:{onMousedown:function(t){1===t.buttons?this.$emit("onMousedown",t,this.data,this.index):2===t.buttons&&this.$emit("onContextmenu",t,this.data,this.index)},onContextmenu:function(t){return t.preventDefault(),!1}}}),f=g,m=(n("4573"),n("2877")),b=Object(m["a"])(f,d,p,!1,null,null,null),v=b.exports,R=n("2f45"),w=n.n(R),y=n("9073"),A=n.n(y),z={data:function(){return{isDraging:!1,resizeObject:{},activeElement:null,activedElements:[],data:[{x:100,y:60,width:200,height:100,rotate:0,zIndex:100,src:w.a},{x:120,y:180,width:162.5,height:39,rotate:0,zIndex:101,src:A.a}]}},components:{elementItem:v},computed:{isMultiple:function(){return this.activedElements.length>1}},created:function(){var t=this;document.addEventListener("click",function(e){t.getDraging()||e.target.closest("#stage-box")||t.hideEdit()},!1)},methods:{hideEdit:function(){this.resizeObject={}},setDraging:function(){this.isDraging=!0},cancelDraging:function(){var t=this;setTimeout(function(){t.isDraging=!1},10)},getDraging:function(){return this.isDraging},getRect:function(){var t=this,e={x:[],y:[],width:[],height:[]};this.activedElements.map(function(t,n){e.x.push(t.x),e.y.push(t.y)});var n=Math.min.apply(Math,Object(c["a"])(e.x)),i=Math.min.apply(Math,Object(c["a"])(e.y));return this.activedElements.map(function(o,a){var r=t.$refs["element-item"][a]["$el"].getBoundingClientRect(),s=r.right,c=r.bottom;e.width.push(s-n),e.height.push(c-i)}),{x:n,y:i,width:Math.max.apply(Math,Object(c["a"])(e.width)),height:Math.max.apply(Math,Object(c["a"])(e.height))}},handleMousedown:function(t,e,n){if(t.metaKey||t.ctrlKey)if(this.activedElements.push(e),1===this.activedElements.length)this.resizeObject=l()(e);else{var i=this.getRect();this.resizeObject=i}else this.resizeObject=l()(e),this.activedElements=[e]},handleDragStart:function(){this.setDraging()},handleDrag:function(t,e,n){this.resizeObject.x+=e,this.resizeObject.y+=n,this.activedElements.map(function(t,i){t.x+=e,t.y+=n})},handleDragEnd:function(){this.cancelDraging()},handleResizeStart:function(){this.setDraging(),this.oldResizeObject=l()(this.resizeObject),this.oldActivedElements=l()(this.activedElements)},handleResize:function(t,e,n,i){var o=this,a=e.top,r=e.left,s=e.width,c=e.height,h={y:Math.round(a),x:Math.round(r),width:Math.round(s),height:Math.round(c)};this.resizeRatioObject=u(h,this.oldResizeObject);var l=this.resizeRatioObject,d=l.widthRatio,p=l.heightRatio,g=h.x-this.oldResizeObject.x,f=h.y-this.oldResizeObject.y,m=this.getRect();this.activedElements.map(function(t,e){var n=o.oldActivedElements[e],i=Math.round(n.width/d),a=Math.round(n.height/p),r=(n.x-o.oldResizeObject.x)/o.oldResizeObject.width,s=(n.y-o.oldResizeObject.y)/o.oldResizeObject.height,c=g+o.oldResizeObject.x+Math.round(h.width*r),u=f+o.oldResizeObject.y+Math.round(m.height*s);Object.assign(t,{x:c,y:u,width:i,height:a})}),Object.assign(this.resizeObject,h)},hanlderResizeEnd:function(){if(this.cancelDraging(),this.isMultiple){var t=this.getRect();Object.assign(this.resizeObject,t)}},handleRotateStart:function(){this.setDraging()},handleRotate:function(t,e){this.resizeObject.rotate=e,this.activedElements.map(function(t,n){t.rotate=e})},handleRotateEnd:function(){this.cancelDraging()}}},M=z,x=(n("5b83"),Object(m["a"])(M,r,s,!1,null,null,null)),j=x.exports,E={components:{stage:j}},D=E,O=(n("42b1"),Object(m["a"])(D,o,a,!1,null,null,null)),I=O.exports,S=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("rectBox",{attrs:{styles:t.styles,zoom:t.zoom,zoomable:t.zoomable,rotatable:t.rotatable,parentScaleNum:t.parentScaleNum,parentRotateAngle:t.parentRotateAngle,onDragStart:t.onDragStart,onDrag:t.handleDrag,onDragEnd:t.onDragEnd,onResizeStart:t.onResizeStart,onResize:t.handleResize,onResizeEnd:t.onResizeEnd,onRotateStart:t.onRotateStart,onRotate:t.handleRotate,onRotateEnd:t.onRotateEnd}},[t._t("default"),n("template",{slot:"rotate"},[t._t("rotate")],2)],2)}),P=[],C=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),k=function(t,e){return Math.sqrt(t*t+e*e)},U=function(t,e){var n=t.x,i=t.y,o=e.x,a=e.y,r=n*o+i*a,s=n*a-i*o,c=Math.atan2(s,r)/Math.PI*180;return(c+360)%360},Z=function(t){return t*Math.PI/180},F=function(t){return Math.cos(Z(t))},N=function(t){return Math.sin(Z(t))},X=function(t,e,n){var i=t+e;return i>n?t=i:(e=n-t,t=n),{width:t,deltaW:e}},W=function(t,e,n){var i=t+e;return i>n?t=i:(e=n-t,t=n),{height:t,deltaH:e}},Y=function(t,e,n,i,o,a,r){var s=e.width,c=e.height,u=e.centerX,h=e.centerY,l=e.rotateAngle,d=s<0?-1:1,p=c<0?-1:1;switch(s=Math.abs(s),c=Math.abs(c),t){case"r":var g=X(s,n,a);s=g.width,n=g.deltaW,o?(i=n/o,c=s/o,u+=n/2*F(l)-i/2*N(l),h+=n/2*N(l)+i/2*F(l)):(u+=n/2*F(l),h+=n/2*N(l));break;case"tr":i=-i;var f=X(s,n,a);s=f.width,n=f.deltaW;var m=W(c,i,r);c=m.height,i=m.deltaH,o&&(n=i*o,s=c*o),u+=n/2*F(l)+i/2*N(l),h+=n/2*N(l)-i/2*F(l);break;case"br":var b=X(s,n,a);s=b.width,n=b.deltaW;var v=W(c,i,r);c=v.height,i=v.deltaH,o&&(n=i*o,s=c*o),u+=n/2*F(l)-i/2*N(l),h+=n/2*N(l)+i/2*F(l);break;case"b":var R=W(c,i,r);c=R.height,i=R.deltaH,o?(n=i*o,s=c*o,u+=n/2*F(l)-i/2*N(l),h+=n/2*N(l)+i/2*F(l)):(u-=i/2*N(l),h+=i/2*F(l));break;case"bl":n=-n;var w=X(s,n,a);s=w.width,n=w.deltaW;var y=W(c,i,r);c=y.height,i=y.deltaH,o&&(c=s/o,i=n/o),u-=n/2*F(l)+i/2*N(l),h-=n/2*N(l)-i/2*F(l);break;case"l":n=-n;var A=X(s,n,a);s=A.width,n=A.deltaW,o?(c=s/o,i=n/o,u-=n/2*F(l)+i/2*N(l),h-=n/2*N(l)-i/2*F(l)):(u-=n/2*F(l),h-=n/2*N(l));break;case"tl":n=-n,i=-i;var z=X(s,n,a);s=z.width,n=z.deltaW;var M=W(c,i,r);c=M.height,i=M.deltaH,o&&(s=c*o,n=i*o),u-=n/2*F(l)-i/2*N(l),h-=n/2*N(l)+i/2*F(l);break;case"t":i=-i;var x=W(c,i,r);c=x.height,i=x.deltaH,o?(s=c*o,n=i*o,u+=n/2*F(l)+i/2*N(l),h+=n/2*N(l)-i/2*F(l)):(u+=i/2*N(l),h-=i/2*F(l));break}return{position:{centerX:u,centerY:h},size:{width:s*d,height:c*p}}},T={n:0,ne:1,e:2,se:3,s:4,sw:5,w:6,nw:7},B=["ns","nesw","ew","nwse","ns","nesw","ew","nwse"],q={0:0,1:1,2:2,3:2,4:3,5:4,6:4,7:5,8:6,9:6,10:7,11:8},L=function(t,e){var n=q[Math.floor(t/30)],i=T[e],o=(i+n)%8;return B[o]},J=function(t){var e=t.centerX,n=t.centerY,i=t.width,o=t.height,a=t.rotateAngle;return{top:n-o/2,left:e-i/2,width:i,height:o,rotateAngle:a}},G=function(t){var e=t.top,n=t.left,i=t.width,o=t.height,a=t.rotateAngle;return{position:{centerX:n+i/2,centerY:e+o/2},size:{width:i,height:o},transform:{rotateAngle:a}}},K=function(t){return{centerX:t.width/2,centerY:t.height/2}},V=function(t,e){var n=K(e),i=K(t);return{top:n.centerY-i.centerY,left:n.centerX-i.centerX}},H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"rectBox",staticClass:"rect-box",style:t.divStyle,on:{mousedown:t.startDrag}},[t._l(t.direction,function(e,i){return n("div",{key:i,staticClass:"scale",class:t.zoomableMap[e],style:[{cursor:t.getCursorStyle(e)},t.reverseScaleStyle],on:{mousedown:function(n){return n.stopPropagation(),function(n){return t.startResize(n,t.zoomableMap[e])}(n)}}})}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.rotatable,expression:"rotatable"}],ref:"rotate",staticClass:"rotate",on:{mousedown:function(e){return e.stopPropagation(),t.startRotate(e)}}},[t._t("rotate",[n("div",{staticClass:"rotate-icon"})])],2),t._t("default")],2)},Q=[],_=(n("28a5"),{props:{styles:{type:Object,default:function(){return{}}},zoom:{type:Number},zoomable:{type:String},rotatable:{type:Boolean},parentRotateAngle:{type:Number},parentScaleNum:{type:Number},onRotateStart:{type:Function},onRotate:{type:Function},onRotateEnd:{type:Function},onResizeStart:{type:Function},onResize:{type:Function},onResizeEnd:{type:Function},onDragStart:{type:Function},onDrag:{type:Function},onDragEnd:{type:Function}},name:"rect-box",data:function(){return{locals:1,cursor:[],zoomableMap:{n:"t",s:"b",e:"r",w:"l",ne:"tr",nw:"tl",se:"br",sw:"bl"},direction:this.zoomable.split(",").map(function(t){return t.trim()}).filter(function(t){return t})}},watch:{zoomable:function(t){this.direction=t.split(",").map(function(t){return t.trim()}).filter(function(t){return t})}},components:{},computed:{reverseScaleStyle:function(){return{transform:"scale(".concat(1/this.parentScaleNum,")")}},divStyle:function(){var t=this.styles,e=t.position,n=t.size,i=t.transform,o={width:Math.abs(n.width)+"px",height:Math.abs(n.height)+"px",transform:"rotate(".concat(i.rotateAngle,"deg)"),left:e.centerX-Math.abs(n.width)/2+"px",top:e.centerY-Math.abs(n.height)/2+"px"};return o}},beforeMount:function(){},mounted:function(){this.setElementRef(this.$refs.rectBox)},filters:{},methods:{setElementRef:function(t){this.$element=t},getCursorStyle:function(t){var e=this.styles.transform,n="".concat(L(e.rotateAngle+this.parentRotateAngle,t),"-resize");return n},startDrag:function(t){var e=this;if(1!==t.which)return!0;t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var n=t.clientX,i=t.clientY;this.onDragStart&&this.onDragStart(t),this._isMouseDown=!0;var o=function(t){e._isMouseDown&&(t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),window.requestAnimationFrame(function(){var o=t.clientX,a=t.clientY,r=(o-n)/e.zoom,s=(a-i)/e.zoom;e.onDrag(t,r,s),n=o,i=a}))},a=function t(n){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",t),e._isMouseDown&&(e._isMouseDown=!1,e.onDragEnd&&e.onDragEnd(n))};document.addEventListener("mousemove",o),document.addEventListener("mouseup",a)},startRotate:function(t){var e=this;if(0===t.button){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var n=t.clientX,i=t.clientY,o=this.styles.transform.rotateAngle,a=this.$element.getBoundingClientRect(),r={x:a.left+a.width/2,y:a.top+a.height/2},s={x:n-r.x,y:i-r.y};this.onRotateStart&&this.onRotateStart(t),this._isMouseDown=!0;var c=function(t){e._isMouseDown&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.stopImmediatePropagation(),window.requestAnimationFrame(function(){var n=t.clientX,i=t.clientY,a={x:n-r.x,y:i-r.y},c=U(s,a);e.onRotate(t,c,o)}))},u=function t(n){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",t),e._isMouseDown&&(e._isMouseDown=!1,e.onRotateEnd&&e.onRotateEnd(n))};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)}},startResize:function(t,e,n){var i=this;if(0===t.button){var o=this.styles,a=o.position,r=a.centerX,s=a.centerY,c=o.size,u=c.width,h=c.height,l=o.transform.rotateAngle,d=t.clientX,p=t.clientY,g={width:u,height:h,centerX:r,centerY:s,rotateAngle:l};this.onResizeStart&&this.onResizeStart(t),this._isMouseDown=!0;var f=function(t){i._isMouseDown&&(t.stopImmediatePropagation(),window.requestAnimationFrame(function(){var n=t.clientX,o=t.clientY,a=(n-d)/i.zoom,r=(o-p)/i.zoom,s=Math.atan2(r,a),c=k(a,r),u=t.shiftKey;i.onResize(t,c,s,g,e,u)}))},m=function t(e){document.body.style.cursor="auto",document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",t),i._isMouseDown&&(i._isMouseDown=!1,i.onResizeEnd&&i.onResizeEnd(e))};document.addEventListener("mousemove",f),document.addEventListener("mouseup",m)}}}}),$=_,tt=(n("49fd"),Object(m["a"])($,H,Q,!1,null,"7b6866b5",null)),et=tt.exports;function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(n,!0).forEach(function(e){Object(C["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ot={name:"vue-drag-rotate-resize",props:{zoom:{type:Number,default:1},top:{type:Number,required:!0},left:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},rotateAngle:{type:Number,default:0},zoomable:{type:String,default:"n, w, s, e, nw, ne, se, sw"},rotatable:{type:Boolean,default:!0},parentRotateAngle:{type:Number,default:0},parentScaleNum:{type:Number,default:1},minWidth:{type:Number,default:-1/0},minHeight:{type:Number,default:-1/0},aspectRatio:{type:Number},isCenterZoom:{type:Boolean,default:!1},centerZoomTargetRect:{type:Object,default:function(){return{width:100,height:100}}},onRotateStart:{type:Function},onRotate:{type:Function},onRotateEnd:{type:Function},onResizeStart:{type:Function},onResize:{type:Function},onResizeEnd:{type:Function},onDragStart:{type:Function},onDrag:{type:Function},onDragEnd:{type:Function}},data:function(){return{}},components:{rectBox:et},computed:{styles:function(){return G({top:this.top,left:this.left,width:this.width,height:this.height,rotateAngle:this.rotateAngle})}},methods:{handleDrag:function(t,e,n){this.onDrag&&this.onDrag(t,e,n)},handleRotate:function(t,e,n){if(this.onRotate){var i=Math.round(n+e);i>=360?i-=360:i<0&&(i+=360),i>356||i<4?i=0:i>86&&i<94?i=90:i>176&&i<184?i=180:i>266&&i<274&&(i=270),this.onRotate(t,i)}},handleResize:function(t,e,n,i,o,a){if(this.onResize){var r=this.rotateAngle,s=this.aspectRatio,c=this.minWidth,u=this.minHeight,h=this.parentRotateAngle,l=n-Z(r+h),d=e*Math.cos(l),p=e*Math.sin(l),g=a&&!s?i.width/i.height:s,f=Y(o,it({},i,{rotateAngle:r}),d,p,g,c,u),m=f.position,b=m.centerX,v=m.centerY,R=f.size,w=R.width,y=R.height,A=J({centerX:b,centerY:v,width:w,height:y,rotateAngle:r});if(this.isCenterZoom){var z=V(A,{width:this.centerZoomTargetRect.width,height:this.centerZoomTargetRect.height});A.left=z.left,A.top=z.top}this.onResize(t,A,a,o)}}}},at=ot,rt=Object(m["a"])(at,S,P,!1,null,null,null),st=rt.exports;st.install=function(t){t.component(st.name,st)},"undefined"!==typeof window&&window.Vue&&st.install(window.Vue);var ct=st;i["a"].use(ct),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(I)}}).$mount("#app")},e801:function(t,e,n){}});
//# sourceMappingURL=index.54749194.js.map